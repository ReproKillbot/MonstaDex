<attacks_list>
  <div class="container attack-container bg-dark">
    <div>
      <h1>Attacks</h1>
      <div class="md-form mt-0 search">
        <input class="monster_search form-control-sm ml-3 w-75" placeholder="Search by Element" type="text" value=''>
      </div>
    </div>
    <table class="table table-info table-hover table-bordered">
   <thead class="text-center">
     <tr class="thead-light">
       <th scope="col">Name</th>
       <th scope="col">Element</th>
       <th scope="col">Description</th>
     </tr>
   </thead>
   <tbody class="text-center" id="table">
     <tr each='{attack in attacks}' role="button" data-href="/attacks/{attack.id}">
       <td class="w-25"><a class="text-dark stretched-link">{attack.name}</a></td>
       <td class="w-25"><img src="{attack.image}">{attack.element}</td>
       <td class="w-50">{attack.description}</td>
     </tr>
   </tbody>
   </table>
  </div>
  <script>
  var self = this
  self.attacks = {}
  self.on('mount', function(){
      get_attacks();
      $('.monster_search').on('change', function(){
        filterMonsters();
      })
      $('.monster_search').focus(function() {
        this.value = "";
        get_attacks();
     });
  })

  $(function(){
     $(".table").on("click", "tr[role=\"button\"]", function (e) {
          window.location = $(this).data("href");
     });
  });

  var get_attacks = function(){
      CLIENT.api.get_attacks()
          .done(function(attacks){
              self.attacks = attacks
          })
          .fail(function(error){
              alert(error.responseJSON)
          })
          .always(function(){
              self.update()
          })
  }

  var filterMonsters = function(){
   CLIENT.api.get_attacks_by_type($('.monster_search')[0].value)
     .done(function(attacks){
         self.attacks = attacks
     })
     .fail(function(error){
         alert(error.responseJSON)
     })
     .always(function(){
         self.update()
     })
   }
  </script>
  <style>
   .attack-container {
      padding: 50px 100px;
    }

    #table td:hover {
    cursor: pointer;
  }

  h1 {
     text-align: center;
     color: #fff;
  }
  .search {
     padding: 20px;
     width: 50%;
     margin: 10px 225px 10px auto;
  }
  .monster_search {
     background-color: #fff;
     border: 1px solid #000!important;
  }
  </style>
</attacks_list>